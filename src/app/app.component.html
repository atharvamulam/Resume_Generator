<nav class="navbar navbar-expand-lg navbar-light bg-light header">
  <a class="navbar-brand" href="#">Resume Generator</a>
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarNav"
    aria-controls="navbarNav"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="#/">HOME</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#/templates">TEMPLATE</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#/generate">GENERATE</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#/resumes">RESUMES</a>
      </li>
    </ul>
  </div>
</nav>

<form [formGroup]="resumeForm" (ngSubmit)="onSubmit()" class="px-10">
  <!-- Personal Details -->
  <h3 class="mt-8 font-bold text-3xl">PERSONAL DETAILS</h3>
  <div formGroupName="personalDetails">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" class="form-control" formControlName="name" required />
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        class="form-control"
        formControlName="email"
        required
      />
    </div>
    <div class="form-group">
      <label for="linkedIn">LinkedIn:</label>
      <input type="text" class="form-control" formControlName="linkedIn" />
    </div>
    <div class="form-group">
      <label for="github">Github:</label>
      <input type="text" class="form-control" formControlName="github" />
    </div>
    <div class="form-group">
      <label for="shortIntro">Short Intro:</label>
      <input type="text" class="form-control" formControlName="shortIntro" />
    </div>
    <div class="form-group">
      <label for="address">Address:</label>
      <input type="text" class="form-control" formControlName="address" />
    </div>
    <div class="form-group">
      <label for="phoneNumber">Phone Number:</label>
      <input
        type="text"
        class="form-control"
        formControlName="phoneNumber"
        pattern="[0-9]*"
      />
    </div>
  </div>

  <!-- Skills Section -->
  <h3 class="mt-8 font-bold text-3xl">SKILLS SECTION</h3>
  <div formArrayName="skills">
    <div *ngFor="let skill of skills.controls; let i = index">
      <div class="form-group">
        <label for="skill{{ i }}">Skill {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          [formControlName]="i"
          required
        />
        <!-- Add validation for skills -->
      </div>
    </div>
    <button type="button" (click)="addSkillField()" class="btn btn-primary">
      Add Skill
    </button>
  </div>

  <!-- Education Section -->
  <h3 class="mt-8 font-bold text-3xl">EDUCATION</h3>
  <div formArrayName="educations">
    <div *ngFor="let education of educations.controls; let i = index">
      <div class="form-group">
        <label for="collegeName{{ i }}">College Name {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="collegeName{{ i }}"
          [formControlName]="i + '.collegeName'"
          required
        />
        <!-- Validation for College Name -->
        <div
          *ngIf="
            educations.controls[i]?.get('collegeName')?.invalid &&
            educations.controls[i]?.get('collegeName')?.touched
          "
          class="text-danger"
        >
          College Name is required.
        </div>
      </div>
      <div class="form-group">
        <label for="universityName{{ i }}">University Name {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="universityName{{ i }}"
          [formControlName]="i + '.universityName'"
          required
        />
        <!-- Validation for University Name -->
        <div
          *ngIf="
            educations.controls[i]?.get('universityName')?.invalid &&
            educations.controls[i]?.get('universityName')?.touched
          "
          class="text-danger"
        >
          University Name is required.
        </div>
      </div>
      <div class="form-group">
        <label for="marksObtained{{ i }}">Marks Obtained {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="marksObtained{{ i }}"
          [formControlName]="i + '.marksObtained'"
          required
        />
        <!-- Validation for Marks Obtained -->
        <div
          *ngIf="
            educations.controls[i]?.get('marksObtained')?.invalid &&
            educations.controls[i]?.get('marksObtained')?.touched
          "
          class="text-danger"
        >
          Marks Obtained is required.
        </div>
      </div>
      <div class="form-group">
        <label for="shortInfo{{ i }}">Any Short Info {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="shortInfo{{ i }}"
          [formControlName]="i + '.shortInfo'"
          required
        />
        <!-- Validation for Short Info -->
        <div
          *ngIf="
            educations.controls[i]?.get('shortInfo')?.invalid &&
            educations.controls[i]?.get('shortInfo')?.touched
          "
          class="text-danger"
        >
          Short Info is required.
        </div>
      </div>
      <div class="form-group">
        <label for="year{{ i }}">Year of college {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="year{{ i }}"
          [formControlName]="i + '.year'"
          required
        />
        <!-- Validation for Year of College -->
        <div
          *ngIf="
            educations.controls[i]?.get('year')?.invalid &&
            educations.controls[i]?.get('year')?.touched
          "
          class="text-danger"
        >
          Year of College is required.
        </div>
      </div>
    </div>
    <button type="button" (click)="addEducationField()" class="btn btn-primary">
      Add Education
    </button>
  </div>

  <!-- Projects Section -->
  <h3 class="mt-8 font-bold text-3xl">PROJECTS</h3>
  <div formArrayName="projects">
    <!-- Loop through project controls -->
    <div *ngFor="let project of projects.controls; let i = index">
      <div class="form-group">
        <!-- Project Name -->
        <label for="projectName{{ i }}">Project Name {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="projectName{{ i }}"
          [formControlName]="i + '.projectName'"
          required
        />
        <!-- Validation for Project Name -->
        <div
          *ngIf="
            projects.controls[i]?.get('projectName')?.invalid &&
            projects.controls[i]?.get('projectName')?.touched
          "
          class="text-danger"
        >
          Project Name is required.
        </div>
      </div>
      <div class="form-group">
        <!-- Project Description -->
        <label for="projectDescription{{ i }}"
          >Project Description {{ i + 1 }}:</label
        >
        <input
          type="text"
          class="form-control"
          id="projectDescription{{ i }}"
          [formControlName]="i + '.projectDescription'"
          required
        />
        <!-- Validation for Project Description -->
        <div
          *ngIf="
            projects.controls[i]?.get('projectDescription')?.invalid &&
            projects.controls[i]?.get('projectDescription')?.touched
          "
          class="text-danger"
        >
          Project Description is required.
        </div>
      </div>
      <div class="form-group">
        <!-- Tech stack used -->
        <label for="techStack{{ i }}">Tech stack used {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="techStack{{ i }}"
          [formControlName]="i + '.techStack'"
          required
        />
        <!-- Validation for Tech stack used -->
        <div
          *ngIf="
            projects.controls[i]?.get('techStack')?.invalid &&
            projects.controls[i]?.get('techStack')?.touched
          "
          class="text-danger"
        >
          Tech stack used is required.
        </div>
      </div>
      <div class="form-group">
        <!-- Github Link -->
        <label for="githubLink{{ i }}">Github Link {{ i + 1 }}:</label>
        <input
          type="text"
          class="form-control"
          id="githubLink{{ i }}"
          [formControlName]="i + '.githubLink'"
          required
        />
        <!-- Validation for Github Link -->
        <div
          *ngIf="
            projects.controls[i]?.get('githubLink')?.invalid &&
            projects.controls[i]?.get('githubLink')?.touched
          "
          class="text-danger"
        >
          Github Link is required.
        </div>
      </div>
    </div>
    <!-- Button to add a new project -->
    <button type="button" (click)="addProjectField()" class="btn btn-primary">
      Add Project
    </button>
  </div>

  <!-- Submit Button -->
  <button type="submit" class="btn btn-primary mt-8" [disabled]="resumeForm.invalid">
    Generate Resume
  </button>
</form>